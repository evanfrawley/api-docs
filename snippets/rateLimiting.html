<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="shortcut icon" href="images/favicon.ico" type="image/vnd.microsoft.icon">
    <title>API Documentation</title>

    <link href="../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../javascripts/all_nosearch.js" type="text/javascript"></script>

  </head>

  <body class="snippets snippets_rateLimiting">
	<div class="navbar-container">
	  <nav class="navbar">
		<a class="logo-container" href="#">
			<div class="logo"></div>
		</a>
		<ul>
			<li>
			  <a href="https://www.smartsheet.com/developers" target="_blank">
			    Developer Portal
			  </a>
			</li>
			<li>
			  <a href="https://www.smartsheet.com/developers/register" target="_blank">
			    Registration
			  </a>
			</li>
			<li>
			  <a href="https://www.smartsheet.com/developers/api-faq" target="_blank">
			    FAQs
			  </a>
			</li>
			<li>
			  <a href="https://www.smartsheet.com/blog/development" target="_blank">
			    Blog
			  </a>
			</li>
		</ul>
	  </nav>
	</div>
    <a href="#" id="nav-button" class>
      <img src="images/navbar.png">
    </a>
    <div class="page-wrapper">
		<div class="tocify-wrapper">
		    <ul class="search-results"></ul>
		  <div id="toc">
		  </div>
		</div>
		<div class="content_body">
		  <div class="dark-box"></div>
		  <div class="content">
			<p><strong>Handle &ldquo;Rate Limit Exceeded&rdquo; error</strong><br/>
In order to prevent abuse and undue stress on the Smartsheet servers, the API has a rate limiting feature that restricts users to <strong>300</strong> requests per minute per Access Token. 
Certain resource intensive operations, such as attaching a file and getting cell history, count as 10 requests to prevent abuse of these operations. 
We reserve the right to enforce this limit depending on the load on our systems. 
If and when the limit is enforced, any requests that exceed this limit will be rejected with an <strong>429</strong> HTTP status code, along with the following JSON response body:</p>

<p><code class="prettyprint">{</code><br/>
&#160;&#160;&#160;&#160;<code class="prettyprint">&quot;errorCode&quot;: 4003,</code><br/>
&#160;&#160;&#160;&#160;<code class="prettyprint">&quot;message&quot;: &quot;Rate limit exceeded.&quot;</code><br/>
<code class="prettyprint">}</code></p>

<p>We recommend that you design your integration to gracefully handle this rate limit error. 
One way of doing that would be to have your integration <em>sleep</em> for 60 seconds when this error is encountered, and then subsequently retry the request. 
Alternatively, you might choose to implement <a href="https://en.wikipedia.org/wiki/Exponential_backoff">exponential backoff</a> (an error handling strategy whereby you periodically retry a failed request with progressively longer wait times between retries, until either the request succeeds or the certain number of retry attempts is reached). </p>

<p><strong>Avoid executing &ldquo;rapid fire&rdquo; updates</strong><br/>
If the only thing your integration does is execute an <a href="#update-row(s)">Update Row(s)</a> request once every second for the same sheet, that would only amount to a total of 60 requests per minute &ndash; well within rate limiting guidelines. 
However, updating the same object in such rapid succession could result in save errors that negatively impact both your integration as well as user experience within the Smartsheet app. 
To avoid this scenario, design your integration such that API requests are never executed with rapid-fire succession against the same Smartsheet object. 
For maximum efficiency, consider batching up changes and submitting them in a single request using a <a href="#bulk-insert-operations">bulk-enabled operation</a> (for example, <a href="#update-row(s)">Update Row(s)</a> or <a href="#add-column(s)">Add Column(s)</a>).</p>

<p><strong>Execute requests serially</strong><br/>
Executing multiple API requests in parallel to update a specific Smartsheet object will result in reduced performance and will often result in errors due to save collisions. 
To avoid this scenario, design your integration such that API requests to update a specific Smartsheet object are always executed serially (i.e., execute one request at time, not beginning the next request until the previous request has completed).</p>

<aside class="notice">Attempts to perform multiple concurrent updates to a sheet may result in <a href="#error-handling">error code 4004</a>.</aside>

		  </div>
		  <div class="dark-box">
		  </div>
		</div>
    </div>
	<script type="text/javascript">
		$('h1').addClass("section-header");
		$('h2').addClass("section-header");
		$('h3').addClass("section-header");
		$('h4').addClass("section-header");
	</script>
	<script type="text/javascript">
			$(document).ready(function(){
			$('.content').css('margin-bottom', parseInt($(window).height()) - (parseInt($('.content').height()) - parseInt($('.content h2').last().offset().top)));
			});
	</script>
  </body>
</html>
